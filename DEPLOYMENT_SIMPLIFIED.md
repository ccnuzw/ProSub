# ğŸš€ ç®€åŒ–éƒ¨ç½²æŒ‡å—

## âœ¨ æœ€æ–°ä¼˜åŒ–

- **æ™ºèƒ½é…ç½®ç®¡ç†**ï¼šæœ¬åœ°å¼€å‘ä½¿ç”¨`wrangler.toml`ï¼Œéƒ¨ç½²æ—¶è‡ªåŠ¨åˆ é™¤é¿å…å†²çª
- **çº¯Dashboardéƒ¨ç½²**ï¼šæ‰€æœ‰é…ç½®éƒ½åœ¨Cloudflare Dashboardä¸­å®Œæˆ
- **é›¶å‘½ä»¤è¡Œæ“ä½œ**ï¼šå®Œå…¨é€šè¿‡Webç•Œé¢éƒ¨ç½²

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤

### 1. å‡†å¤‡é¡¹ç›®
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/prosub.git
cd prosub

# å®‰è£…ä¾èµ–
npm install

# åˆ é™¤wrangler.tomlä»¥é¿å…éƒ¨ç½²å†²çª
rm -f wrangler.toml

# æ„å»ºé¡¹ç›®
npm run build
```

### 2. åˆ›å»ºCloudflare Pagesé¡¹ç›®
1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com)
2. è¿›å…¥ **Pages** é¡µé¢
3. ç‚¹å‡» **Create a project**
4. é€‰æ‹© **Connect to Git**
5. é€‰æ‹©ä½ çš„GitHubä»“åº“
6. é…ç½®æ„å»ºè®¾ç½®ï¼š
   - **Framework preset**: None
   - **Build command**: `npm run build`
   - **Build output directory**: `dist`
   - **Root directory**: `/` (é»˜è®¤)

### 3. åˆ›å»ºD1æ•°æ®åº“
1. åœ¨Cloudflare Dashboardä¸­è¿›å…¥ **Workers & Pages**
2. ç‚¹å‡» **D1** æ ‡ç­¾
3. ç‚¹å‡» **Create database**
4. è¾“å…¥æ•°æ®åº“åç§°ï¼š`prosub-db`
5. è®°å½•ç”Ÿæˆçš„æ•°æ®åº“ID

### 4. åˆ›å»ºKVå‘½åç©ºé—´
1. åœ¨Cloudflare Dashboardä¸­è¿›å…¥ **Workers & Pages**
2. ç‚¹å‡» **KV** æ ‡ç­¾
3. ç‚¹å‡» **Create a namespace**
4. è¾“å…¥åç§°ï¼š`prosub-kv`
5. è®°å½•ç”Ÿæˆçš„å‘½åç©ºé—´ID

### 5. é…ç½®ç»‘å®š
1. åœ¨Pagesé¡¹ç›®è¯¦æƒ…é¡µé¢
2. ç‚¹å‡» **Settings** æ ‡ç­¾
3. æ‰¾åˆ° **Functions** éƒ¨åˆ†
4. ç‚¹å‡» **Bindings** é…ç½®
5. æ·»åŠ ä»¥ä¸‹ç»‘å®šï¼š

#### D1æ•°æ®åº“ç»‘å®š
- **Variable name**: `DB`
- **D1 database**: é€‰æ‹©åˆšåˆ›å»ºçš„`prosub-db`

#### KVå‘½åç©ºé—´ç»‘å®š
- **Variable name**: `KV`
- **KV namespace**: é€‰æ‹©åˆšåˆ›å»ºçš„`prosub-kv`

### 6. åˆå§‹åŒ–æ•°æ®åº“
1. éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ä½ çš„åŸŸå
2. è®¿é—® `/api/test-db` ç«¯ç‚¹
3. è¿™å°†è‡ªåŠ¨åˆ›å»ºæ‰€æœ‰è¡¨å’Œé»˜è®¤ç”¨æˆ·

### 7. ç™»å½•æµ‹è¯•
- é»˜è®¤ç”¨æˆ·åï¼š`admin`
- é»˜è®¤å¯†ç ï¼š`admin123`

## ğŸ”§ æœ¬åœ°å¼€å‘

å¦‚æœéœ€è¦æœ¬åœ°å¼€å‘ï¼Œä½¿ç”¨ä¸“é—¨çš„æœ¬åœ°é…ç½®ï¼š

```bash
# å¯åŠ¨å‰ç«¯
npm run dev

# å¯åŠ¨åç«¯ï¼ˆä½¿ç”¨æœ¬åœ°é…ç½®ï¼‰
npm run dev:backend
```

æœ¬åœ°å¼€å‘ä½¿ç”¨ `wrangler.toml` é…ç½®æ–‡ä»¶ï¼Œéƒ¨ç½²æ—¶ä¼šè‡ªåŠ¨åˆ é™¤ä»¥é¿å…UUIDå†²çªã€‚

## ğŸ¯ ä¼˜åŠ¿

1. **é›¶é…ç½®å†²çª**ï¼šæ²¡æœ‰ç¡¬ç¼–ç çš„UUID
2. **Dashboardå‹å¥½**ï¼šæ‰€æœ‰é…ç½®éƒ½åœ¨Webç•Œé¢å®Œæˆ
3. **Forkå‹å¥½**ï¼šå…¶ä»–äººforkåæ— éœ€ä¿®æ”¹ä»»ä½•æ–‡ä»¶
4. **ç¯å¢ƒéš”ç¦»**ï¼šæœ¬åœ°å¼€å‘å’Œç”Ÿäº§éƒ¨ç½²å®Œå…¨åˆ†ç¦»

## ğŸš¨ æ³¨æ„äº‹é¡¹

- ç¡®ä¿åœ¨ç»‘å®šé…ç½®ä¸­æ­£ç¡®è®¾ç½®å˜é‡åï¼ˆ`DB`å’Œ`KV`ï¼‰
- æ•°æ®åº“åˆå§‹åŒ–éœ€è¦è®¿é—®`/api/test-db`ç«¯ç‚¹
- æœ¬åœ°å¼€å‘ä½¿ç”¨`wrangler.toml`ï¼Œéƒ¨ç½²å‰éœ€è¦åˆ é™¤è¯¥æ–‡ä»¶ä»¥é¿å…UUIDå†²çª 